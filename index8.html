<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <style>
        .container{
            border: 2px solid orange;
            width: 30%;
        }
        h2{
            text-align: center;
        }
    </style>
  </head>
  <body>
    <div class="container">
        <h2>Book a Call</h2>
        <hr>
        <form action="#" id="firstform">
            <div class="mb-3">
                <label for="name" class="form-label">Name:</label>
                <input type="name" class="form-control" id="fname" aria-describedby="emailHelp">
                <label for="email" class="form-label">Email address:</label>
                <input type="email" class="form-control" id="fmail" aria-describedby="emailHelp">
                <label for="contact" class="form-label">Phone:</label>
                <input type="text" class="form-control" id="fnumber" aria-describedby="emailHelp">
                <label for="exampleInputEmail1" class="form-label">Time for Call:</label>
                <div class="row mb-3">
                    <div class="col">
                        
                      <input type="date" class="form-control" placeholder="First name" aria-label="First name" id="datetext">
                    </div>
                    <div class="col">
                      <input type="time" class="form-control" placeholder="Last name" aria-label="Last name" id="timetext">
                    </div>
                  </div>
                <div class="d-grid gap-2">
                    <button class="btn btn-warning" id="bton" type="submit">Get a call</button>
                </div>
                
              </div>
        </form>
        
    </div>
    <div class="list_names">
        <ul id="list">

        </ul>
    </div>
    <script>
        let key = document.getElementById("fname").getAttribute("type");
        let obj1 = [];
        const form = document.querySelector("form")
        form.addEventListener("submit",(e)=>{
              e.preventDefault();
                let obj2 = {
                  name : document.getElementById("fname").value,
                  email : document.getElementById("fmail").value,
                  contact: document.getElementById("fnumber").value
              }
              
              let key = document.getElementById("fmail").value;

              document.querySelector("form").reset();
              localStorage.setItem(key,JSON.stringify(obj2));
               let ele2 = document.getElementById("list");
              var newele = document.createElement("li");
              newele.className = 'sublist'
              let str = "";
              for(i in obj2){
                  str += `${i} is ${obj2[i]} ,`;
                 
              }
             let newtext = document.createTextNode(str);
             let btn = document.createElement("button");
             btn.className="btn btn-warning";
             btn.innerHTML="delete";
              newele.append(newtext);
              newele.append(btn);
              ele2.append(newele);
              btn.addEventListener("click",(e)=>{
                  let ele = e.target.closest('.sublist');
                  if(ele){
                    ele.remove();
                  }
                 
              })
        });
    </script>
  </body>
</html>
